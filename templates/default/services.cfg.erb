
#
# Autogenerated by Chef.

define service {
    use                 default-service,srv-pnp
    host_name           *
    service_description ping
    check_command       check_ping!200.0,2%!300.0,3%
}

# monitoring service checks
define service {
    service_description Nagios
    hostgroup_name      <%= node['nagios']['server_role'] %>
    check_command       check-nagios
    contact_groups      admins
    use                 default-service,srv-pnp
}

define service {
    service_description Free Space All Disks
    #hostgroup_name      linux
    hostgroup_name      all
    check_command       check_all_disks
    use                 default-service,srv-pnp
}

#define service {
#    service_description Check mailq TEST JACK
#    hostgroup_name      linux
#    check_command       check_nrpe!check_mailq
#    use                 default-service,srv-pnp
#}

define service {
    service_description Check Jenkins 8080
    hostgroup_name      jenkins
    check_command       check_tcp!8080
    use                 default-service,srv-pnp
}

define service {
    service_description Check RabbitMQ 5672
    hostgroup_name      rabbitmq_server_cluster_disc
    check_command       check_tcp!5672
    use                 default-service,srv-pnp
}


define service {
    service_description Check uRest 8085
    hostgroup_name      urest
    check_command       check_tcp!8085
    use                 default-service,srv-pnp
}
#define service {
#    service_description Check Rabbit VP Queue Availability  <%= @region %> CLUSTER
#    hostgroup_name nagios
#    check_command       check_rabbitmq_queue_availability!<%= @region %>.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld
#    use                 rappid-rabbit,srv-pnp
#}

<% if @environment == "privatecloud1" -%>

#PC1
#define service {
#    service_description Check Rabbit record_requests_queue PC1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbit_queues!pc1.rabbitmq.tealiumiq.com!/pc1_server2server!record_requests_queue!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
#    use                 default-service,srv-pnp
#}

#define service {
#    service_description Check Rabbit request_tracers_queue PC1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbit_queues!pc1.rabbitmq.tealiumiq.com!/pc1_server2server!request_tracers_queue!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
#    use                 default-service,srv-pnp
#}

#define service {
#    service_description Check Rabbit audit_analyzer PC1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbit_queues!pc1.rabbitmq.tealiumiq.com!/pc1_sitemap_audit!audit_analyzer!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
#    use                 default-service,srv-pnp
#}

#define service {
#    service_description Check Rabbit audit_complete_site_companion PC1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbit_queues!pc1.rabbitmq.tealiumiq.com!/pc1_sitemap_audit!audit_complete_site_companion!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
#    use                 default-service,srv-pnp
#}

#define service {
#    service_description Check Rabbit audit_complete_site_scan PC1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbit_queues!pc1.rabbitmq.tealiumiq.com!/pc1_sitemap_audit!audit_complete_site_scan!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
#    use                 default-service,srv-pnp
#}

#define service {
#    service_description Check Rabbit audit_sitemap PC1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbit_queues!pc1.rabbitmq.tealiumiq.com!/pc1_sitemap_audit!audit_sitemap!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
#    use                 default-service,srv-pnp
#}

#define service {
#    service_description Check Rabbit audit_url PC1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbit_queues!pc1.rabbitmq.tealiumiq.com!/pc1_sitemap_audit!audit_url!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
#    use                 default-service,srv-pnp
#}

#define service {
#    service_description Check Rabbit tiq_verifier PC1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbit_queues!pc1.rabbitmq.tealiumiq.com!/pc1_tiq_verifier!tiq_verifier!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
#    use                 default-service,srv-pnp
#}

#define service {
#    service_description Check Rabbit http_requests_queue PC1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbit_queues!pc1.rabbitmq.tealiumiq.com!/pc1_server2server!http_requests_queue!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
#    use                 default-service,srv-pnp
#}

#define service {
#    service_description Check Rabbit tag_request_queue PC1
#   <%= @designation %> <%= @ip %>
#    check_command       check_rabbit_queues!pc1.rabbitmq.tealiumiq.com!/pc1_server2server!tag_request_queue!monitor!ifyouaremonitoringtheworld!200,-1,200,-1!300,-1,300,-1
#    use                 default-service,srv-pnp
#}

#define service {
#    service_description Check Rabbit http_response_task PC1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbit_queues!pc1.rabbitmq.tealiumiq.com!/pc1_server2server!http_response_task!monitor!ifyouaremonitoringtheworld!200,-1,200,-1!300,-1,300,-1
#    use                 default-service,srv-pnp
#}

define service {
    service_description RabbitMQ vp_to_qp_partitionedqueryresult queue consumer count
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_consumers_multi_pc1!pc1.rabbitmq.tealiumiq.com!/pc1_server2server!monitor!ifyouaremonitoringtheworld!us-east!vp_to_qp_partitionedqueryresult!1!99
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description RabbitMQ vp_to_au_expiredvisitor_queue backup
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!pc1.rabbitmq.tealiumiq.com!/pc1_server2server!vp_to_au_expiredvisitor_queue!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
    use                 default-service,srv-pnp
}

define service {
    service_description RabbitMQ esp_to_au queue availability
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new_pc1!pc1.rabbitmq.tealiumiq.com!/pc1_server2server!monitor!ifyouaremonitoringtheworld!us-east!esp_to_au!<%= @au_pc1_id.count %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description RabbitMQ permission_cache queue backup
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!pc1.rabbitmq.tealiumiq.com!/pc1_permission_cache!permission_cache!monitor!ifyouaremonitoringtheworld!1000,-1,1000,-1!1000,-1,1000,-1
    use                 default-service,srv-pnp
}

define service {
    service_description RabbitMQ vp_to_dd_visitor_action queue backup
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!pc1.rabbitmq.tealiumiq.com!/pc1_server2server!vp_to_dd_visitor_action!monitor!ifyouaremonitoringtheworld!1000,-1,1000,-1!1000,-1,1000,-1
    use                 default-service,srv-pnp
}

#define service {
#    service_description Check Rabbit uconnector_queue
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbit_queues!pc1.rabbitmq.tealiumiq.com!/pc1_server2server!uconnector_queue!monitor!ifyouaremonitoringtheworld!20000,2000,1000,-1!20000,1000,500,-1
#    use                 rappid-rabbit,srv-pnp
#}

define service {
    service_description RabbitMQ mr_to_vp queue availability
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_pc1!pc1.rabbitmq.tealiumiq.com!/pc1_server2server!monitor!ifyouaremonitoringtheworld!us-west
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description RabbitMQ uc_to_esp queue availability
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new_pc1!pc1.rabbitmq.tealiumiq.com!/pc1_server2server!monitor!ifyouaremonitoringtheworld!us-east!uc_to_esp!<%= @esp_pc1_id.count %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description RabbitMQ vp_to_dd_visitoraction consumer count
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_consumers_pc1!pc1.rabbitmq.tealiumiq.com!/pc1_server2server!monitor!ifyouaremonitoringtheworld!us-east!vp_to_dd_visitor_action!<%= @dd_pc1_id.count %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description RabbitMQ mr_to_vp queue consumer count
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_consumers_multi_pc1!pc1.rabbitmq.tealiumiq.com!/pc1_server2server!monitor!ifyouaremonitoringtheworld!us-east!mr_to_vp_partitionedevent!1!99
    use                 rappid-rabbit,srv-pnp
    event_handler       vp_handler!us-east-1!<%= @pc1_mongo_ip %>!mr_to_vp_partitionedevent
}

define service {
    service_description RabbitMQ vp_to_vp_rebalancedvisitor queue consumer count
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_consumers_multi_pc1!pc1.rabbitmq.tealiumiq.com!/pc1_server2server!monitor!ifyouaremonitoringtheworld!us-east!vp_to_vp_rebalancedvisitor!1!99
    use                 rappid-rabbit,srv-pnp
}


#define service {
#    service_description Check Rabbit record_requests_queue
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbit_queues!pc1.rabbitmq.tealiumiq.com!/server2server!record_requests_queue!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
#    use                 default-service,srv-pnp
#}

<% end %>

<% if @environment == "production_vpc1" -%>

#define service {
#    service_description Check Rabbit VP queue subscription count US WEST CLUSTER
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbit_sub!us-west-1.cluster.rabbitmq.tealiumiq.com!monitor!ifoyuaremonitoringhteworld!-s
#    use                 default-service,srv-pnp
#}

define service {
    service_description Check Rabbit Message Count US WEST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queue!us-west-1.cluster.rabbitmq.tealiumiq.com!monitor!ifyouaremonitoringtheworld!3000000!us-west-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit Message Count US EAST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queue!us-east-1.cluster.rabbitmq.tealiumiq.com!monitor!ifyouaremonitoringtheworld!300000!us-east-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit Message Count EU WEST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queue!eu-west-1.cluster.rabbitmq.tealiumiq.com!monitor!ifyouaremonitoringtheworld!300000!eu-west-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit Message Count EU CENTRAL CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queue!eu-central-1.cluster.rabbitmq.tealiumiq.com!monitor!ifyouaremonitoringtheworld!300000!eu-central-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit record_requests_queue US WEST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!us-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!record_requests_queue!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit request_tracers_queue US WEST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!us-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!request_tracers_queue!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
    use                 default-service,srv-pnp
}

#define service {
#    service_description Check Rabbit vp_to_au_expiredvisitor_queue US WEST CLUSTER
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbit_queues!us-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!vp_to_au_expiredvisitor_queue!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
#    use                 default-service,srv-pnp
#}


# YOYOYO
define service {
    service_description Check Rabbit audit_analyzer US WEST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!us-west-1.cluster.rabbitmq.tealiumiq.com!/sitemap_audit!audit_analyzer!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit audit_complete_site_companion US WEST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!us-west-1.cluster.rabbitmq.tealiumiq.com!/sitemap_audit!audit_complete_site_companion!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit audit_complete_site_scan US WEST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!us-west-1.cluster.rabbitmq.tealiumiq.com!/sitemap_audit!audit_complete_site_scan!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit audit_sitemap US WEST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!us-west-1.cluster.rabbitmq.tealiumiq.com!/sitemap_audit!audit_sitemap!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit audit_url US WEST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!us-west-1.cluster.rabbitmq.tealiumiq.com!/sitemap_audit!audit_url!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit tiq_verifier US WEST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!us-west-1.cluster.rabbitmq.tealiumiq.com!/tiq_verifier!tiq_verifier!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit http_requests_queue US WEST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!us-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!http_requests_queue!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit tag_request_queue US WEST CLUSTER
   <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!us-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!tag_request_queue!monitor!ifyouaremonitoringtheworld!200,-1,200,-1!300,-1,300,-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit http_response_task US WEST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!us-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!http_response_task!monitor!ifyouaremonitoringtheworld!200,-1,200,-1!300,-1,300,-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit http_response_task US EAST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!http_response_task!monitor!ifyouaremonitoringtheworld!200,-1,200,-1!300,-1,300,-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit vp_to_au_expiredvisitor_queue US EAST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!vp_to_au_expiredvisitor_queue!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit request_tracers_queue US EAST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!request_tracers_queue!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit http_requests_queue US EAST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!http_requests_queue!monitor!ifyouaremonitoringtheworld!40000,-1,20000,-1!45000,-1,25000,-1
    use                 default-service,srv-pnp
}

define service {
   service_description Check Rabbit tag_request_queue US EAST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!tag_request_queue!monitor!ifyouaremonitoringtheworld!200,-1,200,-1!300,-1,300,-1
    use                 default-service,srv-pnp
}

define service {
    check_command       check_rabbit_queues!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!http_response_task!monitor!ifyouaremonitoringtheworld!200,-1,200,-1!300,-1,300,-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit vp_to_au_expiredvisitor_queue EU WEST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!vp_to_au_expiredvisitor_queue!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit request_tracers_queue EU WEST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!request_tracers_queue!monitor!ifyouaremonitoringtheworld!2500,-1,500,-1!3000,-1,600,-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit http_requests_queue EU WEST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!http_requests_queue!monitor!ifyouaremonitoringtheworld!4000,-1,2000,-1!4500,-1,2500,-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit tag_request_queue EU WEST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!tag_request_queue!monitor!ifyouaremonitoringtheworld!200,-1,200,-1!300,-1,300,-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit http_response_task EU WEST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!http_response_task!monitor!ifyouaremonitoringtheworld!200,-1,200,-1!300,-1,300,-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit permission_cache queue US WEST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!us-west-1.cluster.rabbitmq.tealiumiq.com!/permission_cache!permission_cache!monitor!ifyouaremonitoringtheworld!1000,-1,1000,-1!1000,-1,1000,-1
    use                 default-service,srv-pnp
}

#define service {
#    service_description Check Rabbit vp_to_dd_visitor_action queue US WEST CLUSTER
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbit_queues!us-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!vp_to_dd_visitor_action!monitor!ifyouaremonitoringtheworld!1000,-1,1000,-1!1000,-1,1000,-1
#    use                 default-service,srv-pnp
#}

define service {
    service_description Check Rabbit vp_to_dd_visitor_action queue US EAST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!vp_to_dd_visitor_action!monitor!ifyouaremonitoringtheworld!1000,-1,1000,-1!1000,-1,1000,-1
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit vp_to_dd_visitor_action queue EU WEST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!vp_to_dd_visitor_action!monitor!ifyouaremonitoringtheworld!1000,-1,1000,-1!1000,-1,1000,-1
    use                 default-service,srv-pnp
}

#define service {
#    service_description Check Rabbit shared_events_workqueue VPC WTF US WEST CLUSTER
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbit_queues!us-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!shared_events_workqueue!monitor!ifyouaremonitoringtheworld!20000,2000,1000,-1!20000,1000,500,-1
#    use                 rappid-rabbit,srv-pnp
#}

#define service {
#    service_description Check Rabbit shared_events_workqueue VPC US EAST CLUSTER
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbit_queues!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!shared_events_workqueue!monitor!ifyouaremonitoringtheworld!20000,2000,1000,-1!20000,1000,500,-1
#    use                 rappid-rabbit,srv-pnp
#}

#define service {
#    service_description Check Rabbit shared_events_workqueue EU WEST CLUSTER
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbit_queues!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!shared_events_workqueue!monitor!ifyouaremonitoringtheworld!20000,2000,1000,-1!20000,1000,500,-1
#    use                 rappid-rabbit,srv-pnp
#}

define service {
    service_description Check Rabbit uconnector_queue US WEST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!us-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!uconnector_queue!monitor!ifyouaremonitoringtheworld!20000,2000,1000,-1!20000,1000,500,-1
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Check Rabbit uconnector_queue US EAST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!uconnector_queue!monitor!ifyouaremonitoringtheworld!20000,2000,1000,-1!20000,1000,500,-1
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Check Rabbit uconnector_queue EU WEST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbit_queues!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!uconnector_queue!monitor!ifyouaremonitoringtheworld!20000,2000,1000,-1!20000,1000,500,-1
    use                 rappid-rabbit,srv-pnp
}

#define service {
#    service_description Check Rabbit esp_to_au_event_queue US WEST CLUSTER
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbit_queues!us-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!esp_to_au_event_queue!monitor!ifyouaremonitoringtheworld!20000,2000,1000,-1!20000,1000,500,-1
#    use                 rappid-rabbit,srv-pnp
#}

#define service {
#    service_description Check Rabbit esp_to_au_event_queue US EAST CLUSTER
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbit_queues!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!esp_to_au_event_queue!monitor!ifyouaremonitoringtheworld!20000,2000,1000,-1!20000,1000,500,-1
#    use                 rappid-rabbit,srv-pnp
#}

#define service {
#    service_description Check Rabbit esp_to_au_event_queue EU WEST CLUSTER
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbit_queues!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!esp_to_au_event_queue!monitor!ifyouaremonitoringtheworld!20000,2000,1000,-1!20000,1000,500,-1
#    use                 rappid-rabbit,srv-pnp
#}


#OLD WAY
#define service {
#    service_description Check Rabbit VP Queue Availability US WEST CLUSTER
#    <%= @designation %> <%= @ip %>
 #   check_command       check_rabbitmq_queue_availability_west!us-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-west
#    use                 rappid-rabbit,srv-pnp
#}

#NEW WAY
#define service {
#    service_description Check Rabbit vp_to_vp queue availability us-west-1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_availability_new!us-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-west!vp_to_vp_rebalancedvisitor!100
#    use                 rappid-rabbit,srv-pnp
#}

#define service {
#    service_description Check Rabbit mr_to_vp queue availability us-west-1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_availability_new!us-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-west!mr_to_vp!100
#    use                 rappid-rabbit,srv-pnp
#}

#OLD WAY
define service {
    service_description Check Rabbit VP Queue Availability US EAST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east
    use                 rappid-rabbit,srv-pnp
}

#NEW WAY
#define service {
#    service_description Check Rabbit mr_to_vp queue availability us-east-1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_availability_new!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!mr_to_vp!100
#    use                 rappid-rabbit,srv-pnp
#}

#define service {
#    service_description Check Rabbit vp_to_vp queue availability us-east-1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_availability_new!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!vp_to_vp!100
#    use                 rappid-rabbit,srv-pnp
#}

#define service {
#    service_description Check Rabbit vp_to_qp queue availability us-east-1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_availability_new!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!vp_to_qp!100
#    use                 rappid-rabbit,srv-pnp
#}

#OLD WAY
define service {
    service_description Check Rabbit VP Queue Availability EU WEST CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west
    use                 rappid-rabbit,srv-pnp
}

#define service {    service_description Check Rabbit mr_to_vp queue availability eu-west-1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_availability_new!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!mr_to_vp!100
#    use                 rappid-rabbit,srv-pnp
#}

#define service {    service_description Check Rabbit vp_to_vp queue availability eu-west-1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_availability_new!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!vp_to_vp!100
#    use                 rappid-rabbit,srv-pnp 
#}
  
#define service {    service_description Check Rabbit vp_to_qp queue availability eu-west-1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_availability_new!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!vp_to_qp!100
#    use                 rappid-rabbit,srv-pnp
#}

#OLD WAY
define service {
    service_description Check Rabbit VP Queue Availability EU CENTRAL CLUSTER
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central
    use                 rappid-rabbit,srv-pnp
}

#define service {
#    service_description Check Rabbit mr_to_vp queue qvailability eu-central-1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_availability_new!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!mr_to_vp!100
#    use                 rappid-rabbit,srv-pnp
#}

#define service {
#    service_description Check Rabbit vp_to_vp queue qvailability eu-central-1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_availability_new!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!vp_to_vp!100
#    use                 rappid-rabbit,srv-pnp
#}

#define service {
#    service_description Check Rabbit vp_to_qp queue qvailability eu-central-1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_availability_new!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!vp_to_qp!100
#    use                 rappid-rabbit,srv-pnp
#}

#NEW WAY

define service {
    service_description Check Rabbit mr_to_vp_partitionedevent exchange channel count eu-west-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_exchange_channel_count!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!mr_to_vp_partitionedevent!<%= @vp_and_esp_eu_west_count %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Check Rabbit mr_to_vp_partitionedevent exchange channel count eu-central-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_exchange_channel_count!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!mr_to_vp_partitionedevent!<%= @vp_and_esp_eu_central_count %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Check Rabbit mr_to_vp_partitionedevent exchange channel count us-east-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_exchange_channel_count!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!mr_to_vp_partitionedevent!<%= @vp_and_esp_us_east_count %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Check Rabbit vp_to_dd_visitor_action exchange channel count eu-west-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_exchange_channel_count!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!vp_to_dd_visitor_action!<%= @vp_and_esp_eu_west_count %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Check Rabbit vp_to_dd_visitor_action exchange channel count eu-central-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_exchange_channel_count!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!vp_to_dd_visitor_action!<%= @vp_and_esp_eu_central_count %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Check Rabbit vp_to_dd_visitor_action exchange channel count us-east-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_exchange_channel_count!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!vp_to_dd_visitor_action!<%= @vp_and_esp_us_east_count %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Check Rabbit dd_to_au_visitor exchange channel count eu-west-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_exchange_channel_count!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!dd_to_au_visitor!<%= @dd_eu_west_count %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Check Rabbit dd_to_au_visitor exchange channel count eu-central-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_exchange_channel_count!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!dd_to_au_visitor!<%= @dd_eu_central_count %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Check Rabbit dd_to_au_visitor exchange channel count us-east-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_exchange_channel_count!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!dd_to_au_visitor!<%= @dd_us_east_count_double %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Check Rabbit visitor_service exchange channel count eu-west-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_exchange_channel_count!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!visitor_service!<%= @vp_all %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Check Rabbit visitor_service exchange channel count eu-central-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_exchange_channel_count!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!visitor_service!<%= @vp_all %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Check Rabbit visitor_service exchange channel count us-east-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_exchange_channel_count!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!visitor_service!<%= @vp_all %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Check Rabbit vp_to_au_expiredvisitor exchange channel count eu-west-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_exchange_channel_count!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!vp_to_au_expiredvisitor!<%= @vp_eu_west_count %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Check Rabbit vp_to_au_expiredvisitor exchange channel count eu-central-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_exchange_channel_count!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!vp_to_au_expiredvisitor!<%= @vp_eu_central_count %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Check Rabbit vp_to_au_expiredvisitor exchange channel count us-east-1
    <%= @designation %> <%= @ip %>    
    check_command       check_rabbitmq_exchange_channel_count!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!vp_to_au_expiredvisitor!<%= @vp_us_east_count %>
    use                 rappid-rabbit,srv-pnp
} 

define service {
    service_description Check Rabbit uc_to_esp queue count eu-central-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!uc_to_esp!<%= @esp_eu_central_id.count %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Check Rabbit qp_to_qps_rebalancecomplete_query_aggregator queue count eu-west-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!qp_to_qps_rebalancecomplete_query_aggregator!<%= @qa_eu_west.count %>           
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit qp_to_qps_rebalancecomplete_query_aggregator queue count eu-central-1
    <%= @designation %> <%= @ip %>    
    check_command       check_rabbitmq_queue_availability_new!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!qp_to_qps_rebalancecomplete_query_aggregator!<%= @qa_eu_central.count %>
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit qp_to_qps_rebalancecomplete_query_aggregator queue count us-east-1
    <%= @designation %> <%= @ip %>    
    check_command       check_rabbitmq_queue_availability_new!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!qp_to_qps_rebalancecomplete_query_aggregator!<%= @qa_us_east.count %>
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit mr_to_mrs_banned_visitors_visitor_processor queue count eu-west-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!mr_to_mrs_banned_visitors_visitor_processor!<%= @vp_eu_west_count %>
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit mr_to_mrs_banned_visitors_visitor_processor queue count eu-central-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!mr_to_mrs_banned_visitors_visitor_processor!<%= @vp_eu_central_count %>
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit mr_to_mrs_banned_visitors_visitor_processor queue count us-east-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!mr_to_mrs_banned_visitors_visitor_processor!<%= @vp_us_east_count %>
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit mr_to_mrs_banned_visitors_eventstream_processor queue count eu-west-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!mr_to_mrs_banned_visitors_eventstream_processor!<%= @esp_eu_west.count %>
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit mr_to_mrs_banned_visitors_eventstream_processor queue count eu-central-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!mr_to_mrs_banned_visitors_eventstream_processor!<%= @esp_eu_central.count %>
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit mr_to_mrs_banned_visitors_eventstream_processor queue count us-east-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!mr_to_mrs_banned_visitors_eventstream_processor!<%= @esp_us_east.count %>
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit vp_to_vps_rebalancerequest_visitor_processor queue count eu-west-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!vp_to_vps_rebalancerequest_visitor_processor!<%= @vp_eu_west_count %>
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit vp_to_vps_rebalancerequest_visitor_processor queue count eu-central-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!vp_to_vps_rebalancerequest_visitor_processor!<%= @vp_eu_central_count %>
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit vp_to_vps_rebalancerequest_visitor_processor queue count us-east-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!vp_to_vps_rebalancerequest_visitor_processor!<%= @vp_us_east_count %>
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit vp_to_vps_rebalancecomplete_visitor_processor queue count eu-west-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!vp_to_vps_rebalancecomplete_visitor_processor!<%= @vp_eu_west_count %>
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit vp_to_vps_rebalancecomplete_visitor_processor queue count eu-central-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!vp_to_vps_rebalancecomplete_visitor_processor!<%= @vp_eu_central_count %>
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit vp_to_vps_rebalancecomplete_visitor_processor queue count us-east-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!vp_to_vps_rebalancecomplete_visitor_processor!<%= @vp_us_east_count %>
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit hvp_to_hvps_rebalancecomplete_historic_visitor_processor queue count eu-west-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!hvp_to_hvps_rebalancecomplete_historic_visitor_processor!<%= @hvp_eu_west.count %>
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit hvp_to_hvps_rebalancerequest_historic_visitor_processor queue count eu-west-1
    <%= @designation %> <%= @ip %>    
    check_command       check_rabbitmq_queue_availability_new!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!hvp_to_hvps_rebalancerequest_historic_visitor_processor!<%= @hvp_eu_west.count %>
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit hvp_to_hvps_rebalancecomplete_historic_visitor_processor queue count eu-central-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!hvp_to_hvps_rebalancecomplete_historic_visitor_processor!<%= @hvp_eu_central.count %>
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit hvp_to_hvps_rebalancerequest_historic_visitor_processor queue count eu-central-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!hvp_to_hvps_rebalancerequest_historic_visitor_processor!<%= @hvp_eu_central.count %>
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit hvp_to_hvps_rebalancecomplete_historic_visitor_processor queue count us-east-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!hvp_to_hvps_rebalancecomplete_historic_visitor_processor!<%= @hvp_us_east.count %>
    use                 default-service,srv-pnp
}

define service {
    service_description Check Rabbit hvp_to_hvps_rebalancerequest_historic_visitor_processor queue count us-east-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!hvp_to_hvps_rebalancerequest_historic_visitor_processor!<%= @hvp_us_east.count %>
    use                 default-service,srv-pnp
}



define service {
    service_description Check Rabbit VS queue count eu-west-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!visitor_service!<%= @vs_eu_west_count %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Check Rabbit VS queue count us-east-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!visitor_service!<%= @vs_us_east_count %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Check Rabbit VS queue count eu-central-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!visitor_service!<%= @vs_eu_central_count %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Check Rabbit uc_to_esp queue count eu-west-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!uc_to_esp!<%= @esp_eu_west_id.count %>
    use                 rappid-rabbit,srv-pnp
}

#define service {
#    service_description Check Rabbit uc_to_esp queue availability us-west-1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_availability_new!us-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-west!uc_to_esp!<%= @esp_us_west_id.count %>
#    use                 rappid-rabbit,srv-pnp
#}

define service {
    service_description Check Rabbit uc_to_esp queue count us-east-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!uc_to_esp!<%= @esp_us_east_id.count %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Rabbit esp_to_au queue availability us-east-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!esp_to_au!<%= @au_east_id.count %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Rabbit esp_to_au queue availability eu-west-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!esp_to_au!<%= @au_eu_west_id.count %>
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Rabbit esp_to_au queue availability eu-central-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_availability_new!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!esp_to_au!<%= @au_eu_central_id.count %>
    use                 rappid-rabbit,srv-pnp
}
#define service {
#    service_description Check Rabbit VP Queue Availability EU CENTRAL CLUSTER
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_availability!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central
#    use                 rappid-rabbit,srv-pnp
#}

#commented out 5-19-16
#define service {
#    service_description Check Rabbit Amazon Uploader Consumer Count EU WEST CLUSTER
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_consumers!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!esp_to_au_event_queue!1
#    use                 rappid-rabbit,srv-pnp
#}

#define service {
#    service_description Check Rabbit Amazon Uploader Queue Consumer Count US WEST CLUSTER
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_consumers!us-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-west!esp_to_au_event_queue!0
#    use                 rappid-rabbit,srv-pnp
#}

# commented out 5-19-16
#define service {
#    service_description Check Rabbit Amazon Uploader Queue Consumer Count US EAST CLUSTER
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_consumers!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!esp_to_au_event_queue!6
#    use                 rappid-rabbit,srv-pnp
#}

#define service {
#    service_description Check Rabbit Amazon Uploader Queue Consumer Count EU CENTRAL CLUSTER
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_consumers!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!esp_to_au_event_queue!1
#    use                 rappid-rabbit,srv-pnp
#}

#define service {
#    service_description Check Rabbit vp_to_dd_visitoraction consumer count us-west-1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_consumers!us-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-west!vp_to_dd_visitor_action!<%= @dd_us_west_id.count %>
#    use                 rappid-rabbit,srv-pnp
#}

define service {
    service_description Check Rabbit vp_to_dd_visitoraction consumer count us-east-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_consumers!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!vp_to_dd_visitor_action!<%= @dd_us_east_id.count %>
    use                 rappid-rabbit,srv-pnp
#    event_handler       dd_handler!us-east-1!<%= @prod_mongo_ip %>!vp_to_dd_visitoraction
}

define service {
    service_description Check Rabbit vp_to_dd_visitoraction consumer count eu-west-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_consumers!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!vp_to_dd_visitor_action!<%= @dd_eu_west_id.count %>
    use                 rappid-rabbit,srv-pnp
#    event_handler       dd_handler!eu-west-1!<%= @prod_mongo_ip %>!vp_to_dd_visitoraction
}

define service {
    service_description Check Rabbit vp_to_dd_visitoraction consumer count eu-central-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_consumers!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!vp_to_dd_visitor_action!<%= @dd_eu_central_id.count %>
    use                 rappid-rabbit,srv-pnp
#    event_handler       dd_handler!eu-central-1!<%= @prod_mongo_ip %>!vp_to_dd_visitoraction
}

define service {
    service_description Check Rabbit ESP_to_AU consumer count eu-central-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_consumers_lookup!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!esp_to_au_event_queue_!1!'<%= @au_eu_central_id.join(" ") %>'
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Check Rabbit ESP_to_AU consumer count eu-west-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_consumers_lookup!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!esp_to_au_event_queue_!1!'<%= @au_eu_west_id.join(" ") %>'
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description Check Rabbit ESP_to_AU consumer count us-east-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_consumers_lookup!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!esp_to_au_event_queue_!1!'<%= @au_east_id.join(" ") %>'
    use                 rappid-rabbit,srv-pnp
}


#define service {
#    service_description Check Rabbit uc_to_esp consumer count us-west-1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_consumers!us-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-west!uc_to_esp_event_queue_tealium!5
#    use                 rappid-rabbit,srv-pnp
#}

#define service {
#    service_description Check Rabbit uc_to_esp consumer count us-east-1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_consumers!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!uc_to_esp_event_queue_tealium!8
#    use                 rappid-rabbit,srv-pnp
#}

#define service {
#    service_description Check Rabbit uc_to_esp consumer count eu-west-1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_consumers!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!uc_to_esp_event_queue_tealium!4
#    use                 rappid-rabbit,srv-pnp
#}

#define service {
#    service_description Check Rabbit uc_to_esp consumer count eu-central-1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_consumers!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!uc_to_esp_event_queue_tealium!4
#    use                 rappid-rabbit,srv-pnp
#}

##8-10 Temp off Next 2
#3-9-Jack
define service {
    service_description RabbitMQ mr_to_vp queue consumer count eu-central-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_consumers_multi!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!mr_to_vp_partitionedevent!1!99
    use                 rappid-rabbit,srv-pnp
    event_handler       vp_handler!eu-central-1!<%= @prod_mongo_ip %>!mr_to_vp_partitionedevent
}

define service {
    service_description RabbitMQ mr_to_vp queue consumer count eu-west-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_consumers_multi!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!mr_to_vp_partitionedevent!1!99
    use                 rappid-rabbit,srv-pnp
    event_handler       vp_handler!eu-west-1!<%= @prod_mongo_ip %>!mr_to_vp_partitionedevent
}

#define service {
#    service_description RabbitMQ mr_to_vp queue consumer count us-west-1
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_consumers_multi!us-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-west!mr_to_vp_partitionedevent!1!99
#    use                 rappid-rabbit,srv-pnp
#    event_handler       vp_handler!us-west-1
#}

define service {
    service_description RabbitMQ mr_to_vp queue consumer count us-east-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_consumers_multi!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!mr_to_vp_partitionedevent!1!99
    use                 rappid-rabbit,srv-pnp
    event_handler       vp_handler!us-east-1!<%= @prod_mongo_ip %>!mr_to_vp_partitionedevent
}

#8-10 Temp Off Next 1
define service {
    service_description RabbitMQ vp_to_vp_rebalancedvisitor queue consumer count us-east-1
    <%= @designation %> <%= @ip %>
    check_command       check_rabbitmq_queue_consumers_multi!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!vp_to_vp_rebalancedvisitor!1!99
    use                 rappid-rabbit,srv-pnp
    event_handler       vp_handler!us-east-1!<%= @prod_mongo_ip %>!vp_to_vp_rebalancedvisitor
}

#define service {
#    service_description RabbitMQ vp_to_vp_rebalancedvisitor queue consumer count us-west-1
#    <%= @designation %> <%= @ip %>    
#    check_command       check_rabbitmq_queue_consumers_multi!us-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-west!vp_to_vp_rebalancedvisitor!1!99
#    use                 rappid-rabbit,srv-pnp
#}

#8-10 Temp Off Next 2
define service {
    service_description RabbitMQ vp_to_vp_rebalancedvisitor queue consumer count eu-west-1
    <%= @designation %> <%= @ip %>    
    check_command       check_rabbitmq_queue_consumers_multi!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!vp_to_vp_rebalancedvisitor!1!99
    use                 rappid-rabbit,srv-pnp
    event_handler       vp_handler!eu-west-1!<%= @prod_mongo_ip %>!vp_to_vp_rebalancedvisitor
}

define service {
    service_description RabbitMQ vp_to_vp_rebalancedvisitor queue consumer count eu-central-1
    <%= @designation %> <%= @ip %>    
    check_command       check_rabbitmq_queue_consumers_multi!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!vp_to_vp_rebalancedvisitor!1!99
    use                 rappid-rabbit,srv-pnp
    event_handler       vp_handler!eu-central-1!<%= @prod_mongo_ip %>!vp_to_vp_rebalancedvisitor
}

#8-10 Temp Off Next 3
define service {
    service_description RabbitMQ vp_to_qp_partitionedqueryresult queue consumer count eu-central-1
    <%= @designation %> <%= @ip %>    
    check_command       check_rabbitmq_queue_consumers_multi!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!vp_to_qp_partitionedqueryresult!1!99
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description RabbitMQ vp_to_qp_partitionedqueryresult queue consumer count eu-west-1
    <%= @designation %> <%= @ip %>        
    check_command       check_rabbitmq_queue_consumers_multi!eu-west-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-west!vp_to_qp_partitionedqueryresult!1!99
    use                 rappid-rabbit,srv-pnp
}

define service {
    service_description RabbitMQ vp_to_qp_partitionedqueryresult queue consumer count us-east-1
    <%= @designation %> <%= @ip %>        
    check_command       check_rabbitmq_queue_consumers_multi!us-east-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!us-east!vp_to_qp_partitionedqueryresult!1!99
    use                 rappid-rabbit,srv-pnp
}

#define service {
#    service_description TEST NON EXISTANT QUEUE Check Rabbit VP_to_DD VIsitor Action Consumer Count EU CENTRAL CLUSTER
#    <%= @designation %> <%= @ip %>
#    check_command       check_rabbitmq_queue_consumers!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!vp_to_dd_visitor_action_test!2
#    use                 rappid-rabbit,srv-pnp
#}

define service {
    service_description Check MongoDB Backup - Cluster 1
    <%= @designation %>	<%= @ip %>
    check_command       check_mongodb_backup!production_cluster_1
    use                 mongo-service,srv-pnp
    contact_groups      dbadmins
}

define service {
    service_description Check MongoDB Backup - Cluster 2
    <%= @designation %>	<%= @ip %>
    check_command       check_mongodb_backup!production_cluster_2
    use                 mongo-service,srv-pnp
    contact_groups      dbadmins
}

#define service {
#    service_description Check MongoDB Snapshots - Cluster 1
#    <%= @designation %>	<%= @ip %>
#    check_command       check_mongodb_snapshots!production_cluster_1
#    use                 mongo-service,srv-pnp
#    contact_groups      dbadmins
#}

#define service {
#    service_description Check MongoDB Snapshots - Cluster 2
#    <%= @designation %>	<%= @ip %>
#    check_command       check_mongodb_snapshots!production_cluster_2
#    use                 mongo-service,srv-pnp
#    contact_groups      dbadmins
#}

#define service {
#    service_description Check CDN Max Age
#    <%= @designation %>	<%= @ip %>
#    check_command       check_cdn_maxage
#    use                 default-service,srv-pnp
#}

define service {
    service_description Check SES SMTP Availability
    <%= @designation %> <%= @ip %>
    check_command       check_smtp
    use                 default-service,srv-pnp
}

#define service {
#    service_description Check AWS Instance Events VPC
#    <%= @designation %> <%= @ip %>
#    check_command       check_events_vpc
#    use                 default-service,srv-pnp
#}

#define service {
#    service_description Check AWS Instance Events Non VPC
#    <%= @designation %> <%= @ip %>
#3    check_command       check_events_non_vpc
#    use                 default-service,srv-pnp
#}
<% end %>

#define service {
#    service_description Check Chef Status
#    hostgroup_name      all
#    check_command       check_nrpe!check_chef_status
#    use                 default-service,srv-pnp
#}


define service {
    service_description Check Tealium aptrepo
    hostgroup_name      apt_repo
    check_command       check_tcp!80
    use                 default-service,srv-pnp
}
 
define service {
    service_description Check Nexus
    hostgroup_name      production_nexus
    check_command       check_tcp!8081
    use                 default-service,srv-pnp
}

define service {
    service_description Check Visitor Service HTTP 8085
    hostgroup_name      dc_visitor_service
    check_command       check_tcp!8085
    use                 default-service,srv-pnp
}

define service {
    service_description Check DC Uconnect Service HTTP 9090
    hostgroup_name      dc_uconnect
    check_command       check_tcp!9090
    use                 default-service,srv-pnp
}

define service {
    service_description Check Eventstream Processor Service HTTP 8089
    hostgroup_name      eventstream_processor
    check_command       check_tcp!8089
    use                 default-service,srv-pnp
}

#define service {
#    service_description Check DC_Uconnect Heap
#    hostgroup_name      dc_uconnect
#    use                 passive-service
#    event_handler       dc_uconnect_restart
#}

#define service {
#    service_description UTUI HTTP Auth
#    hostgroup_name      utui
#    check_command       check_utui_auth
#    use                 default-service,srv-pnp
#}

define service {
    service_description Check Eventstream process
    hostgroup_name      hostname_eventstream
    check_command       check_nrpe!check_eventstream
    use                 default-service,srv-pnp
}

define service {
    service_description Check Eventstream process
    hostgroup_name      eventstream
    check_command       check_nrpe!check_eventstream
    use                 default-service,srv-pnp
}

define service {
    service_description Check RabbitMQ unakd messages
    hostgroup_name      rabbitmq_server
    check_command       check_nrpe!check_rabbitmq_unackd
    use                 default-service,srv-pnp
}

## JMX ##
#define service {
#    service_description VISITOR PROCESSOR is DOWN per JMX
#    hostgroup_name      dc_visitor_processor
#    check_command       check_jmx_heap!100000000000
#    #check_command       check_jmx_heap
#    use                 jmx-service,srv-pnp
#}

define service {
    service_description VISITOR PROCESSOR java heap at 90 percent
    hostgroup_name      dc_visitor_processor
    check_command       check_jmx_heap!24300000000
    #check_command       check_jmx_heap
    #use                 jmx-service,srv-pnp
    use                 as-low-urgency-service,srv-pnp
}



#define service {
#    service_description UCONNECT is DOWN per JMX
#    hostgroup_name      dc_uconnect
#    check_command       check_jmx_heap!100000000000
#    #check_command       check_jmx_heap
#    use                 jmx-service,srv-pnp
#}

define service {
    service_description UCONNECT java heap at 90 percent
    hostgroup_name      dc_uconnect
    check_command       check_jmx_heap!5798205850
    #check_command       check_jmx_heap
    #use                 jmx-service,srv-pnp
    use                 as-low-urgency-service,srv-pnp
}

#define service {
#    service_description QUERY AGGREGATOR is DOWN per JMX
#    hostgroup_name      dc_query_aggregator
#    check_command       check_jmx_heap!100000000000
#    #check_command       check_jmx_heap
#    use                 jmx-service,srv-pnp
#}

define service {
    service_description QUERY AGGREGATOR java heap is at 90 percent
    hostgroup_name      dc_query_aggregator
    check_command       check_jmx_heap!5798205850
    #check_command       check_jmx_heap
    #use                 jmx-service,srv-pnp
    use                 as-low-urgency-service,srv-pnp
}

#define service {
#    service_description DATA DISTRIBUTOR is DOWN per JMX
#    hostgroup_name      dc_data_distributor
#    check_command       check_jmx_heap!100000000000
#    #check_command       check_jmx_heap
#    use                 jmx-service,srv-pnp
#}

define service {
    service_description DATA DISTRIBUTOR java heap is at 90 percent
    hostgroup_name      dc_data_distributor
    check_command       check_jmx_heap!20250000000
    #check_command       check_jmx_heap
    #use                 jmx-service,srv-pnp
    use                 as-low-urgency-service,srv-pnp
}

#define service {
#    service_description VISITOR SERVICE is DOWN per JMX
#    hostgroup_name      dc_visitor_service
#    check_command       check_jmx_heap!100000000000
#    #check_command       check_jmx_heap
#    use                 jmx-service,srv-pnp
#}

define service {
    service_description VISITOR SERVICE java heap is at 90 percent
    hostgroup_name      dc_visitor_service
    check_command       check_jmx_heap!12375000000
    #check_command       check_jmx_heap
    #use                 jmx-service,srv-pnp
    use                 as-low-urgency-service,srv-pnp
}

#define service {
#    service_description BULK DOWNLOADER is DOWN per JMX
#    hostgroup_name      dc_bulk_downloader
#    check_command       check_jmx_heap!100000000000
#    #check_command       check_jmx_heap
#    use                 jmx-service,srv-pnp
#}

define service {
    service_description BULK DOWNLOADER java heap is at 90 percent
    hostgroup_name      dc_bulk_downloader
    check_command       check_jmx_heap!2025000000
    #check_command       check_jmx_heap
    #use                 jmx-service,srv-pnp
    use                 as-low-urgency-service,srv-pnp
}

#define service {
#    service_description AMAZON UPLOADER is DOWN per JMX
#    hostgroup_name      dc_amazon_uploader
#    check_command       check_jmx_heap!100000000000
#    #check_command       check_jmx_heap
#    use                 jmx-service,srv-pnp
#}

define service {
    service_description AMAZON UPLOADER java heap is at 80 percent
    hostgroup_name      dc_amazon_uploader
    check_command       check_jmx_heap!12150000000
    #check_command       check_jmx_heap
    #use                 jmx-service,srv-pnp
    use                 as-low-urgency-service,srv-pnp
}

define service {
    service_description AMAZON UPLOADER flushMeter less than 0
    hostgroup_name      dc_amazon_uploader
    check_command       check_jmx_flush!0.00
    #check_command       check_jmx_heap
    #use                 jmx-service,srv-pnp
    use                 as-low-urgency-service,srv-pnp
}

#define service {
#    service_description EVENTSTREAM PROCESSOR is DOWN per JMX
#    hostgroup_name      eventstream_processor
#    check_command       check_jmx_heap!100000000000
#    #check_command       check_jmx_heap
#    use                 jmx-service,srv-pnp
#}

define service {
    service_description EVENTSTREAM PROCESSOR jmx events rejected
    hostgroup_name      eventstream_processor
    check_command       check_jmx_esp_events_rejected!100
    #check_command       check_jmx_heap
    use                 jmx-service,srv-pnp
}

define service {
    service_description EVENTSTREAM PROCESSOR java heap is at 90 percent
    hostgroup_name      eventstream_processor
    check_command       check_jmx_heap!2025000000
    #check_command       check_jmx_heap
    #use                 jmx-service,srv-pnp
    use                 as-low-urgency-service,srv-pnp
}


<% unless node[:domain] == "qa" -%>
define service {
    service_description ESP TotalMessageReceived is less than 1
    hostgroup_name      eventstream_processor
    check_command       check_jmx_message_received!1
    #check_command       check_jmx_message_received!1\:i
    #check_command       check_jmx_heap
    use                 jmx-service,srv-pnp
    #event_handler       esp-restart
}
<% end -%>
#define service {
#    service_description Check JMX DataCloud Threading
#    hostgroup_name      dc_visitor_processor
#    check_command       check_jmx_threads!250!275
#    use                 jmx-service,srv-pnp
#}
#
#define service {
#    service_description Check JMX DataCloud Threading
#    hostgroup_name      dc_query_aggregator
#    check_command       check_jmx_threads!40!60
#    use                 jmx-service,srv-pnp
#}
#
#define service {
#    service_description Check JMX DataCloud Threading
#    hostgroup_name      dc_message_router
#    check_command       check_jmx_threads!40!60
#    use                 jmx-service,srv-pnp
#}
#
#define service {
#    service_description Check JMX DataCloud Threading
#    hostgroup_name      dc_data_distributor
#    check_command       check_jmx_threads!40!60
#    use                 jmx-service,srv-pnp
#}
#
#define service {
#    service_description Check JMX DataCloud Threading
#    hostgroup_name      dc_visitor_service
#    check_command       check_jmx_threads!60!70
#    use                 jmx-service,srv-pnp
#}

define service {
    service_description Check JMX DataCloud VP to DD Messages Failed
    hostgroup_name      dc_data_distributor
    check_command       check_jmx_esp_to_dd_failed_messages!0
    use                 jmx-service,srv-pnp
}

#define service {
#    service_description Check JMX DataCloud DD to ESP Cloud Delivery Publish Failures
#    hostgroup_name      dc_data_distributor
#    check_command       check_jmx_esp_total_action_publish_failures!0
#    use                 jmx-service,srv-pnp
#}

define service {
    service_description Check JMX DataCloud Data Distributor Actions Processed
    hostgroup_name      dc_data_distributor
    check_command       check_jmx_data_distributor_actions_processed!2
    use                 jmx-service,srv-pnp
}

define service {
    service_description Check JMX DataCloud Data Distributor Invalid Message Size
    hostgroup_name      dc_data_distributor
    check_command       check_jmx_data_distributor_invalid_message_size!0
    use                 jmx-service,srv-pnp
}

define service {
    service_description Check JMX DataCloud Data Distributor Received Messages
    hostgroup_name      dc_data_distributor
    check_command       check_jmx_data_distributor_received_messages!2
    use                 jmx-service,srv-pnp
}

define service {
    service_description Check JMX DataCloud Uconnect Messages Queued Local Region
    hostgroup_name      dc_uconnect
    check_command       check_jmx_uconnect_messages_queued_local!10000
    use                 jmx-service,srv-pnp
}

define service {
    service_description Check JMX DataCloud Uconnect Messages Queued Cross Region
    hostgroup_name      dc_uconnect
    check_command       check_jmx_uconnect_messages_queued_cross_region!20000
    use                 jmx-service,srv-pnp
}

define service {
    service_description Check JMX DataCloud Uconnect Requests Received
    hostgroup_name      dc_uconnect
    check_command       check_jmx_uconnect_requests_received!10
    use                 jmx-service,srv-pnp
}

define service {
    service_description Check JMX DataCloud VP Status
    hostgroup_name      dc_visitor_processor
    check_command       check_jmx_VP_node_status!ACTIVE
    use                 jmx-service,srv-pnp
}

define service {
    service_description Check JMX DataCloud VP Max Visitor Count
    hostgroup_name      dc_visitor_processor
    check_command       check_jmx_VP_max_visitor_count!28000
    use                 jmx-service,srv-pnp
}

#define service {
#    service_description Check JMX DataCloud VP Ignored Events 5min Rate Old
#    hostgroup_name      dc_visitor_processor
#    check_command       check_jmx_VP_ignored_visitors_5_old!1!10
#    use                 jmx-service,srv-pnp
#}

define service {
    service_description Check JMX DataCloud VP Ignored Events 5min Rate New
    hostgroup_name      dc_visitor_processor
    check_command       check_jmx_VP_ignored_visitors_5_new
    use                 jmx-service,srv-pnp
}

define service {
    service_description Check JMX DataCloud VP Expire Latency
    hostgroup_name      dc_visitor_processor
    check_command       check_jmx_VP_expire_latency_east!600000!600000
    use                 jmx-service,srv-pnp
}

define service {
    service_description Check Permission Cache process
    hostgroup_name      permission_cache
    check_command       check_nrpe!check_permission_cache
    use                 default-service,srv-pnp
}

define service {
    service_description Check Publish Engine process
    hostgroup_name      publish_engine
    check_command       check_nrpe!check_publish_engine
    use                 default-service,srv-pnp
}

define service {
    service_description Check Publish Engine Port 8089
    hostgroup_name      publish_engine
    check_command       check_tcp!8089
    use                 default-service,srv-pnp
}

define service {
    service_description Check Resource Uploader process
    hostgroup_name      resource_uploader
    check_command       check_nrpe!check_resource_uploader
    use                 default-service,srv-pnp
}

define service {
    service_description Check Resource Uploader Port 8089
    hostgroup_name      resource_uploader
    check_command       check_tcp!8089
    use                 default-service,srv-pnp
}

define service {
    service_description Check DC Visitor Processor process
    hostgroup_name      dc_visitor_processor
    check_command       check_nrpe!check_visitor_processor
    use                 default-service,srv-pnp
}

define service {
    service_description Check Amazon Uploader process
    hostgroup_name      dc_amazon_uploader
    check_command       check_nrpe!check_dc_amazon_uploader
    use                 default-service,srv-pnp
}

define service {
    service_description Check Eventstream Processor process
    hostgroup_name      eventstream_processor
    check_command       check_nrpe!check_eventstream_processor
    use                 default-service,srv-pnp
}

define service {
    service_description Check Chef process
    hostgroup_name      nagios
    check_command       check_nrpe!check_chef
    use                 default-service,srv-pnp
}

define service {
    service_description Check DC Uconnect process
    hostgroup_name      dc_uconnect
    check_command       check_nrpe!check_uconnect
    use                 default-service,srv-pnp
}

define service {
    service_description Check DC Bulk Downloader process
    hostgroup_name      dc_bulk_downloader
    check_command       check_nrpe!check_bulk_downloader
    use                 default-service,srv-pnp
}

define service {
    service_description Check DC Visitor Service process
    hostgroup_name      dc_visitor_service
    check_command       check_nrpe!check_visitor_service
    use                 default-service,srv-pnp
}

#define service {
#    service_description Check Visitor Service Splunk Forwarder Procs
#    hostgroup_name      dc_visitor_service
#    check_command       check_nrpe!check_splunk_forwarder
#    use                 default-service,srv-pnp
#    event_handler       splunk_forwarder_restart
#}

define service {
    service_description Check DC Query Aggregator process
    hostgroup_name      dc_query_aggregator
    check_command       check_nrpe!check_query_aggregator
    use                 default-service,srv-pnp
}

define service {
    service_description Check DC Data Distributor process
    hostgroup_name      dc_data_distributor
    check_command       check_nrpe!check_data_distributor
    use                 default-service,srv-pnp
}

define service {
    service_description Check Reporting process
    hostgroup_name      reporting
    check_command       check_nrpe!check_s2s_recorder_perl
    use                 default-service,srv-pnp
}

define service {
    service_description Check rabbitmq epmd process
    hostgroup_name      rabbitmq_server
    check_command       check_nrpe!check_rabbitmq_epmd
    use                 default-service,srv-pnp
}

define service {
    service_description Check rabbitmq epmd process
    hostgroup_name      rabbitmq_server_cluster_disc
    check_command       check_nrpe!check_rabbitmq_epmd
    use                 default-service,srv-pnp
}

define service {
    service_description Check rabbitmq epmd process
    hostgroup_name      rabbitmq_server_cluster_ram
    check_command       check_nrpe!check_rabbitmq_epmd
    use                 default-service,srv-pnp
}

#define service {
#    service_description Check rsyslog process
#    hostgroup_name      all
#    check_command       check_nrpe!check_rsyslog
#    use                 default-service,srv-pnp
#}

define service {
    service_description Check rabbitmq beam process
    hostgroup_name      rabbitmq_server_cluster_disc
    check_command       check_nrpe!check_rabbitmq_beam
    use                 default-service,srv-pnp
}

define service {
    service_description Check rabbitmq beam process
    hostgroup_name      rabbitmq_server_cluster_ram
    check_command       check_nrpe!check_rabbitmq_beam
    use                 default-service,srv-pnp
}

define service {
    service_description Check rabbitmq-server
    hostgroup_name      rabbitmq_server
    check_command       check_nrpe!check_rabbitmq_server
    use                 default-service,srv-pnp
}

define service {
    service_description Check rabbitmq-server
    hostgroup_name      rabbitmq_server_cluster_disc
    check_command       check_nrpe!check_rabbitmq_server
    use                 default-service,srv-pnp
}

define service {
    service_description Check rabbitmq-server
    hostgroup_name      rabbitmq_server_cluster_ram
    check_command       check_nrpe!check_rabbitmq_server
    use                 default-service,srv-pnp
}

define service {
    service_description Check S2S tag processor
    hostgroup_name      server2server
    check_command       check_nrpe!check_s2s_tag_processor_perl
    use                 default-service,srv-pnp
}

define service {
    service_description Check S2S http
    hostgroup_name      server2server
    check_command       check_nrpe!check_s2s_http_perl
    use                 default-service,srv-pnp
}

define service {
    service_description Check S2S tagger
    hostgroup_name      server2server
    check_command       check_nrpe!check_s2s_tagger_perl
    use                 default-service,srv-pnp
}

define service {
    service_description Check Sitescan Audit-Sitemap Process
    hostgroup_name      sitescan_sitemap
    check_command       check_nrpe!check_sitemap_audit_sitemap_perl
    use                 default-service,srv-pnp
}

define service {
    service_description Check Sitescan Audit-Complete Process
    hostgroup_name      sitescan_complete
    check_command       check_nrpe!check_sitemap_audit_complete_perl
    use                 default-service,srv-pnp
}

define service {
    service_description Check Sitescan Audit-Analyzer Process
    hostgroup_name      sitescan_analyzer
    check_command       check_nrpe!check_sitemap_audit_analyzer_perl
    use                 default-service,srv-pnp
}

define service {
    service_description Check Sitescan Audit-Complete Process
    hostgroup_name      sitescan_analyzer
    check_command       check_nrpe!check_sitemap_audit_complete_perl
    use                 default-service,srv-pnp
}

define service {
    service_description Check Sitescan Audit-URLs Process
    hostgroup_name      sitescan_analyzer
    check_command       check_nrpe!check_sitemap_audit_urls_perl
    use                 default-service,srv-pnp
}

define service {
    service_description Check Sitescan Audit-URLs Process
    hostgroup_name      sitescan_urls
    check_command       check_nrpe!check_sitemap_audit_urls_perl
    use                 default-service,srv-pnp
}

define service {
    service_description Check Sitescan Audit-Complete Process
    hostgroup_name      sitescan_urls
    check_command       check_nrpe!check_sitemap_audit_complete_perl
    use                 default-service,srv-pnp
}

define service {
    service_description Check VPN Process
    hostgroup_name      openvpn_access_server, openvpn_client, openvpn_server
    check_command       check_nrpe!check_openvpn
    use                 default-service,srv-pnp
}

# Jack 2-13
define service {
    service_description Check STunnel Processes
    hostgroup_name      all
    check_command       check_nrpe!check_stunnel
    use                 default-service,srv-pnp
    #event_handler       event_handler!eu-central-1.cluster.rabbitmq.tealiumiq.com!/server2server!monitor!ifyouaremonitoringtheworld!eu-central!mr_to_vp_partitionedevent!0!99!event_handler
    #event_handler       event_handler
}

define service {
    service_description Check Nullmailer Process
    hostgroup_name      all
    check_command       check_nrpe!check_nullmailer
    use                 default-service,srv-pnp
}

#define service {
#    service_description Check OSSEC Process
#    hostgroup_name      nagios
#    check_command       check_nrpe!check_ossec
#    use                 default-service,srv-pnp
#}

define service {
    service_description Check dnsmasq Process
    hostgroup_name      dnsmasq
    check_command       check_nrpe!check_dnsmasq
    use                 default-service,srv-pnp
}

define service {
    service_description Load Average
    hostgroup_name      all
    check_command       check_load
    use                 load-service,srv-pnp
}

define service {
    service_description Free Memory
    hostgroup_name      all,!eventstream,!hostname_eventstream
    check_command       check_mem
    use                 mem-service,srv-pnp
}

define service {
    service_description Free Memory
    hostgroup_name      eventstream,hostname_eventstream
    check_command       check_mem
    use                 ntp-service,srv-pnp
    event_handler       eventstream_restart
}

define service {
    service_description SSH
    hostgroup_name      all
    check_command       check_ssh
    use                 default-service,srv-pnp
}

define service {
    service_description Processes
    hostgroup_name      all
    check_command       check_local_procs
    use                 default-service,srv-pnp
}

#define service {
#  service_description   Check UTUI Logs CDN Login Error
#  hostgroup_name        utui
#  use                   ftp-error-service
#}

#define service {
#  service_description   Check UTUI Logs CDN Publish Error
#  hostgroup_name        utui
#  use                   ftp-error-service
#}

#define service {
#  service_description   Check UTUI Logs CDN smartFTP Error
#  hostgroup_name        utui
#  use                   ftp-error-service
#}

#define service {
#  service_description   Check UTUI Logs CDN FTP Upload Error
#  hostgroup_name        utui
#  use                   ftp-error-service
#}

#define service {
#  service_description   Check UTUI Logs Publish Insert
#  hostgroup_name        utui
#  use                   passive-service
#}

#define service {
#  service_description   Check Sitemap Logs SitemapURL
#  hostgroup_name        sitescan_sitemap
#  use                   passive-service
#}

#define service {
#  service_description   Check Sitemap Logs Non_Compiled
#  hostgroup_name        sitescan_urls
#  use                   passive-service
#}

#define service {
#  service_description   Check Sitemap Logs SitemapURL
#  hostgroup_name        sitescan_urls
#  use                   passive-service
#}

#define service {
#  service_description   Check Sitemap Logs Non_Compiled
#  hostgroup_name        sitescan_sitemap
#  use                   passive-service
#}

#define service {
#  service_description   Check EventStream Logs
#  hostgroup_name        eventstream
#  use                   passive-service-auto-healers
#  #use                   passive-service
#}

#define service {
#  service_description   Check EventStream Logs
#  hostgroup_name        hostname_eventstream
#  use                   passive-service-auto-healers
#  #use                   passive-service
#}
 
#<% unless node[:monitored_region].nil? %>
#<% @uconnects.each do |n| -%>
#<% nodesize = n[:ec2][:instance_type].split('.').last %>
#<% num_procs = n[:uconnect][:iron_processes][nodesize] %>
#<% ip = n[:ec2][:local_ipv4] %>
#<% hn = n[:hostname] %>
#<% for i in 1..num_procs %>
#define service {
#  service_description   Check Uconnect Rabbit Connection<%= i %> AUTO
#  <%= @designation %>   <%= hn %> - <%= ip %>
#  use                   passive-service
#  event_handler         s2s-resolve
#}
#
#define service {
#  service_description   Check Uconnect Rabbit Authentication<%= i %> AUTO
#  <%= @designation %>   <%= hn %> - <%= ip %>
#  use                   passive-service
#  event_handler         s2s-resolve
#}
#
#<% end %>
#<% end %>
#<% end %>

define service {
  service_description   Check ntp sync
  hostgroup_name        all
  check_command         check_nrpe!check_ntp
  use                   ntp-service,srv-pnp
}

define service {
  service_description   Check MongoDB cluster port 27017
  hostgroup_name        mongodb_cluster
  check_command         check_tcp!27017
  use                   default-service,srv-pnp
}

define service {
  service_description   Check MongoDB cluster port 27017
  hostgroup_name        mongodb_config
  check_command         check_tcp_mongo!27017!900!900
  use                   default-service,srv-pnp
}

#define service {
#  service_description   Check mongodb Process
#  hostgroup_name        mongodb_cluster,!mongos,!hostname_mongos
#  check_command         check_nrpe!check_mongod
#  use                   default-service,srv-pnp
#}

define service {
  service_description   Check mongos Process
  hostgroup_name        mongos,hostname_mongos
  check_command         check_nrpe!check_mongos
  use                   default-service,srv-pnp
}

define service {
  service_description   Check mongodb_replicaset_1 27017
  hostgroup_name        mongodb_replicaset_1
  check_command         check_tcp!27017
  use                   default-service,srv-pnp
}

define service {
  service_description   Check utui_service 8443
  hostgroup_name        utui
  check_command         check_utui_service
  use                   default-service,srv-pnp
}

define service {
  service_description   Check urest_service
  hostgroup_name        urest
  check_command         check_urest_service
  use                   default-service,srv-pnp
}

define service {
  service_description   Check dc_visitor_service
  hostgroup_name        dc_visitor_service
  check_command         check_dc_visitor_service
  use                   default-service,srv-pnp
}

define service {
   service_description Check UDH webhook connector US-EAST-1
   <%= @designation %>	<%= @ip %>
   hostgroup_name      dc_mona_udh_service
   check_command       check_mona_udh_service!test_webhook_us_east_1
   use                 default-service,srv-pnp
}

define service {
   service_description Check UDH webhook connector EU-WEST-1
   <%= @designation %>	<%= @ip %>
   hostgroup_name      dc_mona_udh_service
   check_command       check_mona_udh_service!test_webhook_eu_west_1
   use                 default-service,srv-pnp
}

define service {
   service_description Check UDH webhook connector EU-CENTRAL-1
   <%= @designation %>	<%= @ip %>
   hostgroup_name      dc_mona_udh_service
   check_command       check_mona_udh_service!test_webhook_eu_central_1
   use                 default-service,srv-pnp
}

#<#% unless @service_hosts['monitoring'].nil? -%>
# If the monitoring host is a postfix relay, uncomment this.
#define service {
#    service_description Postfix
#    hostgroup_name      monitoring
#    check_command       check_nrpe!check_smtp
#    use                 default-service,srv-pnp
#}

# If the monitoring host is a syslog server, uncomment this.
#define service {
#    service_description Rsyslog
#    hostgroup_name      monitoring
#    check_command       check_tcp!514
#    use                 default-service,srv-pnp
#}

#<#% end -%>
<% unless @service_hosts['webserver'].nil? -%>
# basic web server http check
define service {
    service_description HTTP Processes
    hostgroup_name      webserver
    check_command       check_http
    use                 default-service,srv-pnp
}

<% end -%>
<% unless @service_hosts['appserver'].nil? -%>
# basic check if appserver role is running unicorn
define service {
    service_description Unicorn Processes
    hostgroup_name      appserver
    check_command       check_nrpe!check_unicorn
    use                 default-service,srv-pnp
}

define service {
    service_description Unicorn HTTP
    hostgroup_name      appserver
    check_command       check_http_port_expect!8080!"HTTP/1.1 302 Found"
    use                 default-service,srv-pnp
}

<% end -%>
<% unless @service_hosts['database_master'].nil? -%>
# basic check if the database_master role is a mysql server
# database_master service checks
define service {
    service_description MySQL
    hostgroup_name      database_master
    check_command       check_nrpe!check_mysql_server
    use                 default-service,srv-pnp
}

<% end -%>

# Services defined by data bags
<% @services.each do |service| -%>
  <% unless @service_hosts[service['hostgroup_name'].nil? && service['hostgroup_name'] != 'all' ] -%>
define service {
  service_description <%= service['id'] %>
  hostgroup_name <%= service['hostgroup_name'] %>
  check_command check_<%= service['id'] %>
  use default-service,srv-pnp
}
  <% end -%>
<% end -%>
